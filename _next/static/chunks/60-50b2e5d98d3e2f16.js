"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60],{15638:function(e,t,n){n.d(t,{Z:function(){return F}});var r=n(34051),o=n.n(r),a=n(85893),c=n(67294),i=n(60374),s=n(41664),l=n.n(s),u=n(58529),f=n(30908),p=n(19600),d=n(85518),m=n(51768),h=n(30137),y=n(40782),x=n(48297),j=n(91004),v=function(e){var t=e.showDialog,n=e.onClose,r=e.post;return r?(0,a.jsx)(x.Z,{showDialog:t,onClose:n,clickOutside:!0,body:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(F,{type:"replyToPost",parent:!1,post:r})}),(0,a.jsx)(j.Z,{spaceId:r.space,motherPost:r.id,onSpread:n,autoFocus:!0})]}),width:"2xl"}):null},b=n(39642),g=n(21609);function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return!t||"object"!==N(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}var P=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(n,e);var t=C(n);function n(){return I(this,n),t.apply(this,arguments)}var r=n.prototype;return r.init=function(e){var t=e.scanner.TOKENS;return{S_SPACE:e.parser.start.jump(t.SLASH),S_SPACETAG:new e.parser.State(this.StateStorage)}},r.startEnable=function(e,t){var n=e.scanner.TOKENS,r=e.parser.TOKENS.Base;e.inherits(r,this.StateStorage,{type:"space",isLink:!0});var o=t.S_SPACE,a=t.S_SPACETAG;o.on(n.DOMAIN,a),o.on(n.TLD,a),o.on(n.LOCALHOST,a),o.on(n.NUM,a)},n}(g.BasePlugin),O=new P,Z=n(1058),D=n(61149),T=n(8541),A=n(67946),E=n(75389),_=n(61339),R=n(68888),M=n(23178);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,o)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){B(a,r,o,c,i,"next",e)}function i(e){B(a,r,o,c,i,"throw",e)}c(void 0)}))}}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){U(e,t,n[t])}))}return e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);c=!0);}catch(s){i=!0,o=s}finally{try{c||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}_.LinkifyCore.PluginManager.addPlugin(O),_.LinkifyCore.PluginManager.enableHashtag(),_.LinkifyCore.PluginManager.enableMention(),T.Z.addDefaultLocale(A);var K=function(e){var t=e.post,n=e.moderator,r=e.blacklist,s=e.authorIsBlacklisted,x=e.type,j=e.parent,g=e.depth,I=void 0===g?0:g,k=t.id,S=t.author,w=t.username,N=t.message,C=t.timestamp,P=t.space,O=t.spaceName,T=t.deleted,A=t.read,L=z(c.useState(!1),2),B=L[0],U=L[1],F=z(c.useState(!1),2),G=F[0],Y=F[1],$=z(c.useState(I<=0),2),q=$[0],J=$[1],Q=z(c.useState(!1),2),V=(Q[0],Q[1]),X=z((0,u.ZP)((function(e){return[e.contract,e.userId,e.posts,e.setPosts]}),i.Z),4),ee=X[0],te=X[1],ne=X[2],re=X[3],oe=z((0,u.ZP)((function(e){return[e.isSignedUp]}),i.Z),1)[0];!A&&ne.length&&"replyToPost"!==x&&(t.read=!0,re(ne));(0,M.Z)("isSmallerThanSM");var ae=function(){var e=H(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.next=3,(0,m.OW)(ee,P,S);case 3:(t=e.sent).success?(y.Am.success("User ".concat(w," has been blacklisted for this space!"),{autoClose:3e3}),n={userId:S,username:w},r.push(n),V(!1)):(y.Am.error("".concat(t.error),{autoClose:3e3}),V(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=!s&&S!==te,ie=S===te&&oe,se=(0,b.To)(ne,t.id),le=(0,b.PE)(ne,t.id),ue=(null===le||void 0===le?void 0:le.total)||(null===se||void 0===se?void 0:se.length),fe=ue-((null===le||void 0===le?void 0:le.read)||0),pe=[];se&&(pe=se.sort((function(e,t){return e.timestamp-t.timestamp})).map((function(e){var t=!1;return r&&(t=r.filter((function(t){return t.userId===e.author})).length>0),(0,a.jsx)(K,{type:"reply",moderator:!1,parent:!1,depth:I+1,authorIsBlacklisted:t,post:e},"reply-".concat(e.id))})));var de={id:k,author:S,username:w,message:N,timestamp:C,space:P,spaceName:O,deleted:T},me=function(){var e=H(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.oL)(ee,k);case 2:(t=e.sent).success?(n=ne.map((function(e){return e.id===k?W({},e,{message:"",deleted:!0}):e})),re(n),y.Am.success("Your post has been deleted!",{autoClose:3e3})):y.Am.error("".concat(t.error),{autoClose:3e3});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=N||"The user has removed this post!";return(0,a.jsxs)("div",{className:"\n        ".concat(p.o.feedItemWrapper,"\n        ").concat(p.o.feedItemWrapperDark,"\n        ").concat("".concat(j?p.o.feedItemParent:p.o.feedItemChild),"\n      "),children:[(0,a.jsxs)("div",{className:"\n        ".concat(p.o.feedItemInnerTop,"\n        ").concat("replyToPost"===x?"pr-0":"","\n      "),children:[(0,a.jsxs)("div",{className:p.o.feedItemMetaWrapper,children:[(0,a.jsxs)("div",{className:p.o.feedItemMetaCol1,children:[(0,a.jsx)(l(),{href:"/user/".concat(w),passHref:!0,children:(0,a.jsx)("a",{href:"passed",className:"".concat(p.o.feedItemMetaName," ").concat(p.o.feedItemMetaNameDark),children:w})}),j&&"feed"===x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"in"}),(0,a.jsx)(l(),{href:"/space/".concat(de.spaceName),passHref:!0,children:(0,a.jsx)("a",{href:"passed",children:(0,a.jsx)(D.Z,{clickable:!0,children:"/".concat(de.spaceName)})})})]}),s&&(0,a.jsx)("span",{className:"text-xs uppercase text-red-500",children:"blocked"})]}),(0,a.jsx)("div",{className:p.o.feedItemMetaCol2,children:(0,a.jsx)("div",{className:p.o.feedItemMetaTimestamp,children:(0,a.jsx)(E.Z,{date:new Date(1e3*C-6e4),locale:"en-US",timeStyle:d.jU?"round":"twitter"})})})]}),(0,a.jsx)("div",{className:"".concat(p.o.feedItemText," ").concat(p.o.feedItemTextDark),children:(0,a.jsx)(_.Linkify,{options:{formatHref:{hashtag:function(e){return"/tag/".concat(e.substring(1).toLowerCase())},mention:function(e){return"/user/".concat(e.substring(1))},space:function(e){return"/space/".concat(e.substring(1))}},linkWrapper:{url:function(e){return(0,a.jsx)("span",{className:"".concat(p.o.link," ").concat(p.o.linkDark),children:(0,a.jsx)("a",W({},e,{children:e.children}))})},hashtag:function(e){return(0,a.jsx)("span",{className:"".concat(p.o.linkify," ").concat(p.o.linkifyHashtag," ").concat(p.o.linkifyHashtagDark),children:(0,a.jsx)("a",W({},e,{children:e.children}))})},mention:function(e){return(0,a.jsx)("span",{className:"".concat(p.o.linkify," ").concat(p.o.linkifyMention," ").concat(p.o.linkifyMentionDark),children:(0,a.jsx)("a",W({},e,{children:e.children}))})},space:function(e){return(0,a.jsx)("span",{className:"".concat(p.o.linkify," ").concat(p.o.linkifySpace," ").concat(p.o.linkifySpaceDark),children:(0,a.jsx)("a",W({},e,{children:e.children}))})}}},children:he})}),"replyToPost"!==x&&!s&&(0,a.jsxs)("div",{className:"\n            ".concat(p.o.feedReplyItemBar,"\n          "),children:[(0,a.jsx)(Z.Z,{classNames:"".concat(oe?"":"disabled-link"),text:"".concat(oe?"Reply":"You need to register first."),children:(0,a.jsx)("button",{type:"button",onClick:function(){U(!0),Y(!0)},children:(0,a.jsx)(f.Z,{icon:"faComment",className:"\n                    ".concat(p.o.feedItemInteractionIcon,"\n                    ").concat(p.o.feedItemInteractionIconDark,"\n                  ")})})}),B&&(0,a.jsx)(v,{showDialog:G,onClose:function(){return Y(!1)},post:de}),!q&&(0,a.jsx)(Z.Z,{classNames:"".concat(0===ue?"disabled-link":""),text:"".concat(0===ue?"No Replies":"Open Replies"),children:(0,a.jsxs)("button",{type:"button",onClick:function(){J(!0)},className:"relative",children:[fe>0&&(0,a.jsx)("span",{className:"".concat(p.o.feedReplyItemButtonCount," ").concat(p.o.feedReplyItemButtonCountDark),children:fe}),(0,a.jsx)(f.Z,{icon:"faEye",className:"\n                        ".concat(p.o.feedItemInteractionIcon,"\n                        ").concat(p.o.feedItemInteractionIconDark,"\n                      ")})]})}),q&&(0,a.jsx)(Z.Z,{classNames:"".concat(0===ue?"disabled-link":""),text:"".concat(0===ue?"No Replies":"Hide Replies"),children:(0,a.jsx)("button",{type:"button",onClick:function(){J(!1)},className:"\n                  ".concat(0===ue?"pointer-events-none opacity-30":"","\n                  relative\n                "),children:(0,a.jsx)(f.Z,{icon:"faEyeSlash",className:"\n                      ".concat(p.o.feedItemInteractionIcon,"\n                      ").concat(p.o.feedItemInteractionIconDark,"\n                    ")})})}),(0,a.jsx)(Z.Z,{text:"Share Post",children:(0,a.jsx)(l(),{href:"".concat(R._?window.origin:"","/post/").concat(de.id),passHref:!0,children:(0,a.jsx)("a",{href:"passed",target:"_blank",rel:"noreferrer",children:(0,a.jsx)(f.Z,{icon:"faShare",className:"\n                      ".concat(p.o.feedItemInteractionIcon,"\n                      ").concat(p.o.feedItemInteractionIconDark,"\n                    ")})})})}),ie&&!T&&(0,a.jsx)("button",{type:"button",onClick:function(){me()},children:(0,a.jsx)(Z.Z,{text:"Delete",children:(0,a.jsx)(f.Z,{icon:"faTrash",className:"\n                        ".concat(p.o.feedItemInteractionIcon,"\n                        ").concat(p.o.feedItemInteractionIconDark,"\n                      hover:text-red-400\n                      ")})})}),n&&ce&&(0,a.jsx)("button",{type:"button",onClick:function(){ae()},children:(0,a.jsx)(Z.Z,{text:"Blacklist User",children:(0,a.jsx)(f.Z,{icon:"faShieldAlt",className:"\n                        ".concat(p.o.feedItemInteractionIcon,"\n                        ").concat(p.o.feedItemInteractionIconDark,"\n                      hover:text-red-400\n                      ")})})})]})]}),q&&(0,a.jsx)("div",{className:"".concat(p.o.feedReplyItemWrapper," ").concat(p.o.feedItemReset),children:pe})]})},F=K},72657:function(e,t,n){var r=n(85893),o=(n(67294),n(9008)),a=n.n(o);t.Z=function(e){var t=e.title,n=void 0===t?"Elements":t,o=e.description,c=void 0===o?"Renewable Energy for a better future.":o,i=e.author,s=e.image,l=void 0===s?"https://decensored.app/social/shareimage.webp":s;return(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:n}),(0,r.jsx)("meta",{name:"description",content:c}),i&&(0,r.jsx)("meta",{name:"author",content:i}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:title",content:n,name:"title"}),(0,r.jsx)("meta",{property:"og:description",content:c,name:"description"}),(0,r.jsx)("meta",{property:"og:image",content:l,name:"image"}),(0,r.jsx)("meta",{property:"og:image:width",content:"1200"}),(0,r.jsx)("meta",{property:"og:image:height",content:"630"}),(0,r.jsx)("meta",{property:"twitter:card",content:"summary"}),(0,r.jsx)("meta",{property:"twitter:title",content:n}),(0,r.jsx)("meta",{property:"twitter:description",content:c}),(0,r.jsx)("meta",{property:"twitter:image",content:l}),(0,r.jsx)("link",{rel:"icon",href:"/favicon/favicon.ico"}),(0,r.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/favicon/apple-touch-icon.png"}),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon/favicon-32x32.png"}),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon/favicon-16x16.png"}),(0,r.jsx)("link",{rel:"manifest",href:"/favicon/site.webmanifest"}),(0,r.jsx)("link",{rel:"mask-icon",href:"/favicon/safari-pinned-tab.svg",color:"#5bbad5"}),(0,r.jsx)("meta",{name:"msapplication-TileColor",content:"#da532c"}),(0,r.jsx)("meta",{name:"theme-color",content:"#ffffff"})]})}}}]);